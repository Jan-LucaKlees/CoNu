/*! For license information please see app.be46c935.js.LICENSE.txt */
(()=>{"use strict";var e,t={1349:(e,t,n)=>{var r=n(7294),o=n(3935),i=n(558),a=n(5933),c=n.n(a),u=n(5857),s=n(3894),l=n(4500),f=n(1923),p=(n(6690),n(5369)),d=(0,p.D5)({status:"USER_NOT_AUTHENTICATED"});var m="USER_AUTHENTICATION_STARTED";var h="USER_AUTHENTICATION_SUCCEEDED";var y="USER_AUTHENTICATION_FAILED";n(9753),n(1539),n(8674),n(6257);var v=n(8721);f.initializeApp({apiKey:"AIzaSyAclLIP1KzABj7LDojGZ5UaQ62xMSzmR8c",authDomain:"connect-numbers.firebaseapp.com",databaseURL:"https://connect-numbers.firebaseio.com",projectId:"connect-numbers",storageBucket:"connect-numbers.appspot.com",messagingSenderId:"174348090247",appId:"1:174348090247:web:3a5a6c2367d59de8"});const b=f.firestore();n(3161),n(9653),n(6541),n(7042),n(2222),n(7327),n(9070),n(2526),n(1817),n(2165),n(6992),n(8783),n(3948),n(2443),n(3680),n(3706),n(2703),n(8011),n(489),n(9554),n(4747),n(8309),n(8304),n(5069),n(1038),n(4916);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function E(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw i}}}}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _(){_=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,n){return e[t]=n}}function s(e,t,n,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),c=new j(o||[]);return r(a,"_invoke",{value:O(e,n,c)}),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=s;var f={};function p(){}function d(){}function m(){}var h={};u(h,i,(function(){return this}));var y=Object.getPrototypeOf,v=y&&y(y(T([])));v&&v!==t&&n.call(v,i)&&(h=v);var b=m.prototype=p.prototype=Object.create(h);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function w(e,t){function o(r,i,a,c){var u=l(e[r],e,i);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==g(f)&&n.call(f,"__await")?t.resolve(f.__await).then((function(e){o("next",e,a,c)}),(function(e){o("throw",e,a,c)})):t.resolve(f).then((function(e){s.value=e,a(s)}),(function(e){return o("throw",e,a,c)}))}c(u.arg)}var i;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){o(e,n,t,r)}))}return i=i?i.then(r,r):r()}})}function O(e,t,n){var r="suspendedStart";return function(o,i){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw i;return C()}for(n.method=o,n.arg=i;;){var a=n.delegate;if(a){var c=N(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(e,t,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}function N(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,N(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),f;var o=l(r,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,f;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function T(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,o=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:C}}function C(){return{value:void 0,done:!0}}return d.prototype=m,r(b,"constructor",{value:m,configurable:!0}),r(m,"constructor",{value:d,configurable:!0}),d.displayName=u(m,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,m):(e.__proto__=m,u(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},E(w.prototype),u(w.prototype,a,(function(){return this})),e.AsyncIterator=w,e.async=function(t,n,r,o,i){void 0===i&&(i=Promise);var a=new w(s(t,n,r,o),i);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},E(b),u(b,c,"Generator"),u(b,i,(function(){return this})),u(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=T,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return r("end");if(i.tryLoc<=this.prev){var c=n.call(i,"catchLoc"),u=n.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return r(i.catchLoc,!0);if(this.prev<i.finallyLoc)return r(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return r(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return r(i.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:T(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var O,N=_().mark(G),S=_().mark(U),x=_().mark(B),j=[1,2,3,4,5,6,7,8,9,1,1,1,2,1,3,1,4,1,5,1,6,1,7,1,8,1,9],T=9;function C(e){return Number.isInteger(e)&&0!=e&&-9<=e&&e<=9}function P(e){return console.assert(Array.isArray(e)),e.every((function(e){return C(e)}))}function L(e){return console.assert(P(e)),e.length}function I(e,t){return console.assert(Number.isInteger(t)),0<=t&&t<L(e)}function k(e,t){return console.assert(I(e,t)),Math.abs(e[t])}function A(e,t){return console.assert(I(e,t)),e[t]>0}function R(e,t){return!A(e,t)}function D(e){return Math.ceil(L(e)/T)}function M(e,t){return console.assert(Number.isInteger(t)),0<=t&&t<D(e)}function G(e){var t;return _().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t=0;case 1:if(!(t<D(e))){n.next=7;break}return n.next=4,t;case 4:t++,n.next=1;break;case 7:case"end":return n.stop()}}),N)}function U(e,t){var n,r,o;return _().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:console.assert(M(e,t)),n=t*T,r=Math.min((t+1)*T,L(e)),o=n;case 4:if(!(o<r)){i.next=10;break}return i.next=7,o;case 7:o++,i.next=4;break;case 10:case"end":return i.stop()}}),S)}function F(e,t){var n,r=E(U(e,t));try{for(r.s();!(n=r.n()).done;){if(A(e,n.value))return!0}}catch(e){r.e(e)}finally{r.f()}return!1}function B(e){var t,n,r;return _().wrap((function(o){for(;;)switch(o.prev=o.next){case 0:t=E(G(e)),o.prev=1,t.s();case 3:if((n=t.n()).done){o.next=10;break}if(r=n.value,!F(e,r)){o.next=8;break}return o.next=8,r;case 8:o.next=3;break;case 10:o.next=15;break;case 12:o.prev=12,o.t0=o.catch(1),t.e(o.t0);case 15:return o.prev=15,t.f(),o.finish(15);case 18:case"end":return o.stop()}}),x,null,[[1,12,15,18]])}function Z(e,t,n){return console.assert(I(e,t)),console.assert(I(e,n)),console.assert(t!=n,"A cell cannot be crossed out with itself!"),A(e,t)&&A(e,n)&&(r=k(e,t),o=k(e,n),console.assert(C(r)),console.assert(C(o)),r==o||r+o==10)&&function(e,t,n){if(console.assert(I(e,t)),console.assert(I(e,n)),t==n)return!1;if(t>n){var r=t;t=n,n=r}if(0==(n-t)%T){for(var o=t+T;o<n;o+=T)if(A(e,o))return!1}else for(var i=t+1;i<n;i++)if(A(e,i))return!1;return!0}(e,t,n);var r,o}function z(e,t,n){return console.assert(Z(e,t,n)),function(e,t,n){console.assert(A(e,t)),console.assert(A(e,n));var r=e.slice();return r[t]*=-1,r[n]*=-1,r}(e,t,n)}var $="GAME_NOT_INITIALIZED",W=(0,p.D5)({status:$,selectedCell:null,pairingCells:(0,p.l4)(),extendingField:!1,cells:null});var H="GAME_INITIALIZATION_STARTED";function Y(){return{type:H}}var X="GAME_INITIALIZATION_SUCCEEDED";function K(e){return console.assert(Array.isArray(e)),{type:X,initialCells:e}}var Q="GAME_INITIALIZATION_FAILED";function q(e){return console.assert(e instanceof Error),{type:Q,error:e}}function J(){return function(e){e(Y()),V(f.auth().currentUser).then((function(e){return O=e,e.get()})).then((function(t){return e(K(t.data().cells))})).catch((function(t){return e(q(t))}))}}function V(e){return console.assert(e instanceof f.User),new Promise((function(t,n){var r=(0,v.Z)(),o=b.collection("games").doc(r);o.set({cells:j,owner:e.uid,created_at:f.firestore.Timestamp.now()}).then((function(){return t(o)})).catch((function(e){return n(e)}))}))}var ee="CELL_SELECTED";var te="CELL_PAIRING_STARTED";var ne="CELL_PAIRING_SUCCEEDED";var re="CELL_PAIRING_FAILED";function oe(e,t,n){return console.assert(n instanceof Error),{type:re,index1:e,index2:t,error:n}}var ie="FIELD_EXTENSION_STARTED";var ae="FIELD_EXTENSION_SUCCEEDED";var ce="FIELD_EXTENSION_FAILED";n(2564);var ue,se=(0,p.D5)({menuCollapsed:!1});var le="TOGGLE_MENU";var fe="SHOW_MENU";var pe="COLLAPSE_MENU";function de(){return clearTimeout(ue),{type:pe}}const me=(0,u.UY)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(console.assert(e instanceof p.D5),t.type){case m:return e.set("status",m);case y:return e.set("status",y);case h:return e.set("status",h);default:return e}},game:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(console.assert(e instanceof p.D5),t.type){case H:return W.set("status",H);case Q:return e.set("status",Q);case X:return e.withMutations((function(e){return e.set("status",X).set("cells",t.initialCells)}));case ee:return e.set("selectedCell",t.cellIndex);case te:return e.withMutations((function(e){return e.set("selectedCell",null).set("pairingCells",e.get("pairingCells").union([t.index1,t.index2]))}));case ne:return e.withMutations((function(e){return e.set("pairingCells",e.get("pairingCells").subtract([t.index1,t.index2])).set("cells",t.updatedCells)}));case ie:return e.set("extendingField",!0);case ae:return e.withMutations((function(e){return e.set("extendingField",!1).set("cells",t.updatedCells)}));default:return e}},header:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(console.assert(e instanceof p.D5),t.type){case le:return e.set("menuCollapsed",!e.get("menuCollapsed"));case fe:return e.set("menuCollapsed",!1);case pe:return e.set("menuCollapsed",!0);default:return e}},initialLoading:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return(arguments.length>1?arguments[1]:void 0).type!==X&&e}});var he=(0,l.createLogger)();const ye=(0,u.MT)(me,(0,u.md)(s.Z,he));n(4812),n(2419),n(6649),n(6078);var ve=n(593),be=(n(1249),n(666)),ge=(n(6699),n(2023),n(4184)),Ee=n.n(ge);function we(e){return we="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},we(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==we(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==we(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===we(i)?i:String(i)),r)}var o,i}function Oe(e,t){return Oe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Oe(e,t)}function Ne(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Se(e);if(t){var o=Se(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===we(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Se(e){return Se=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Se(e)}var xe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Oe(e,t)}(a,e);var t,n,o,i=Ne(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={active:!1},t}return t=a,(n=[{key:"onTouchStart",value:function(){this.props.disabled||this.setState({active:!0})}},{key:"onTouchEnd",value:function(){this.props.disabled||this.setState({active:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.onClick,o=t.disabled,i=t.className,a=t.children;return r.createElement("button",{className:Ee()("btn",{"btn--active":this.state.active},i),disabled:o,onClick:n,onTouchStart:function(){return e.onTouchStart()},onTouchEnd:function(){return e.onTouchEnd()}},a)}}])&&_e(t.prototype,n),o&&_e(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent),je=function(e){var t=e.onClick,n=e.disabled,o=e.className,i=e.children;return r.createElement(xe,{className:Ee()("btn--single-line",o),disabled:n,onClick:t},i)},Te=function(e){var t=e.onClick,n=e.disabled,o=e.className,i=e.children;return r.createElement(xe,{className:Ee()("btn--invisible",o),disabled:n,onClick:t},i)},Ce=function(e){var t=e.Front,n=e.Top,o=e.Bottom,i=e.Back,a=e.showFace,c=e.className;return r.createElement("div",{className:Ee()("btn-cuboid",c)},r.createElement("div",{className:"btn-cuboid__cuboid btn-cuboid__cuboid--show-"+a},r.createElement("div",{className:"btn-cuboid__face   btn-cuboid__face--front"},t),r.createElement("div",{className:"btn-cuboid__face   btn-cuboid__face--top"},n),r.createElement("div",{className:"btn-cuboid__face   btn-cuboid__face--bottom"},o),r.createElement("div",{className:"btn-cuboid__face   btn-cuboid__face--back"},i)))},Pe={selectOrPairCell:function(e){return function(t,n){var r,o,i=n().game.get("cells"),a=n().game.get("selectedCell");null!==a&&I(i,e)&&Z(i,a,e)?t((r=a,o=e,function(e,t){e(function(e,t){return{type:te,index1:e,index2:t}}(r,o));var n=t().game.get("cells");if(I(n,r)&&I(n,o)&&Z(n,r,o)){var i=z(n,r,o);O.update({cells:i}).then((function(){return e(function(e,t,n){return{type:ne,index1:e,index2:t,updatedCells:n}}(r,o,i))})).catch((function(t){return e(oe(r,o,t))}))}else e(oe(r,o,new Error("Cells are not pairable!")))})):t({type:ee,cellIndex:e})}}};const Le=(0,i.$j)((function(e,t){return{number:k(e.game.get("cells"),t.index),selected:e.game.get("selectedCell")==t.index,pairing:e.game.get("pairingCells").includes(t.index),paired:R(e.game.get("cells"),t.index)}}),Pe)((function(e){var t=e.index,n=e.number,o=e.selected,i=e.pairing,a=e.paired,c=e.selectOrPairCell;return r.createElement("div",{className:"field__cell-wrapper"},r.createElement(je,{className:Ee()("btn--cell",{"btn--cell-selected":o,"btn--cell-pairing":i}),disabled:a,onClick:function(){return c(t)}},n))}));const Ie=(0,i.$j)((function(e,t){return{cellIndices:Array.from(U(e.game.get("cells"),t.index))}}))((function(e){var t=e.cellIndices;return r.createElement("div",{className:"field__row"},t.map((function(e){return r.createElement(Le,{key:"cell_".concat(e),index:e})})))}));const ke=(0,i.$j)((function(e){var t=e.game.get("cells"),n=Array.from(B(t));if(n.length&&!function(e){return F(e,D(e)-1)}(t)&&!function(e){return L(e)%T==0}(t)){var r=D(t)-1;n.push(r)}return{activeRows:n}}))((function(e){var t=e.activeRows;return r.createElement(be.Z,{className:"field"},t.map((function(e){return r.createElement(ve.Z,{key:"row_transition_".concat(e),timeout:300,classNames:"field__row"},r.createElement(Ie,{key:"row_".concat(e),index:e}))})))}));function Ae(e){return Ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ae(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ae(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ae(i)?i:String(i)),r)}var o,i}function De(e,t){return De=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},De(e,t)}function Me(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ge(e);if(t){var o=Ge(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ge(e){return Ge=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ge(e)}var Ue=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&De(e,t)}(a,e);var t,n,o,i=Me(a);function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).state={fieldExited:t.props.finished,wonMessageEntered:t.props.finished},t}return t=a,(n=[{key:"render",value:function(){var e=this;return r.createElement("div",{className:"game"},r.createElement("div",{className:"game__content"},r.createElement(ve.Z,{in:this.props.finished&&this.state.fieldExited,timeout:200,mountOnEnter:!0,onEntered:function(){return e.setState({wonMessageEntered:!0})},classNames:"game__won-message"},r.createElement("h2",{className:"game__won-message"},"You Won!")),r.createElement(ve.Z,{in:!this.props.finished,timeout:300,mountOnEnter:!0,onExited:function(){return e.setState({fieldExited:!0})},classNames:"field"},r.createElement(ke,null))),r.createElement(Ce,{className:"btn-cuboid--cell-matching-width",showFace:this.props.finished&&this.state.wonMessageEntered?"top":"front",Front:r.createElement(je,{disabled:this.props.finished||this.props.extendingField,onClick:this.props.extendField},"Extend"),Top:r.createElement(je,{onClick:this.props.startNewGame},"New Game")}))}}])&&Re(t.prototype,n),o&&Re(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent),Fe={extendField:function(){return function(e,t){e({type:ie});var n,r=(n=t().game.get("cells")).concat(n.filter((function(e,t){return A(n,t)})));O.update({cells:r}).then((function(){return e(function(e){return{type:ae,updatedCells:e}}(r))})).catch((function(t){return e(function(e){return console.assert(e instanceof Error),{type:ce,error:e}}(t))}))}},startNewGame:J};const Be=(0,i.$j)((function(e){return{extendingField:e.game.get("extendingField"),finished:(t=e.game.get("cells"),console.assert(P(t)),t.every((function(e,n){return R(t,n)})))};var t}),Fe)(Ue);var Ze=function(e){e.loading;return r.createElement("div",{className:"loading-indicator"},r.createElement("div",{className:"loading-indicator__cube"},r.createElement("div",{className:"loading-indicator__face loading-indicator__face--front"}),r.createElement("div",{className:"loading-indicator__face loading-indicator__face--top"}),r.createElement("div",{className:"loading-indicator__face loading-indicator__face--bottom"}),r.createElement("div",{className:"loading-indicator__face loading-indicator__face--back"}),r.createElement("div",{className:"loading-indicator__face loading-indicator__face--left"}),r.createElement("div",{className:"loading-indicator__face loading-indicator__face--right"})))},ze=function(e){var t=e.loading,n=void 0===t||t,o=e.className;return r.createElement(ve.Z,{in:n,timeout:300,classNames:"loading-screen"},(function(e){return"exited"!=e&&r.createElement("div",{className:Ee()("loading-screen",o)},r.createElement(Ze,{key:"loading-indicator"}))}))};const $e=n.p+"images/conu-logo.2846ec9c.svg";function We(e){return We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},We(e)}function He(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==We(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===We(i)?i:String(i)),r)}var o,i}function Ye(e,t){return Ye=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},Ye(e,t)}function Xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Ke(e);if(t){var o=Ke(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===We(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function Ke(e){return Ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Ke(e)}var Qe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ye(e,t)}(a,e);var t,n,o,i=Xe(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.collapseMenuTimeout=this.props.collapseMenuWithTimeout(1300)}},{key:"componentDidUpdate",value:function(e){1==e.newGameLoading&&0==this.props.newGameLoading&&(this.collapseMenuTimeout=this.props.collapseMenuWithTimeout(500))}},{key:"componentWillUnmount",value:function(){clearTimeout(this.collapseMenuTimeout)}},{key:"onStartNewGame",value:function(){this.props.startNewGame(),this.props.menuCollapsed&&this.props.showMenu(),clearTimeout(this.collapseMenuTimeout)}},{key:"render",value:function(){var e=this;return r.createElement("header",{className:"conu__header"},r.createElement(Te,{className:"btn--logo",onClick:this.props.toggleMenu},r.createElement("img",{className:"conu__logo",src:$e})),r.createElement(ve.Z,{in:!this.props.menuCollapsed,timeout:300,classNames:"conu__menu-wrapper"},r.createElement("nav",{className:"conu__menu-wrapper"},r.createElement("div",{className:"menu"},r.createElement(xe,{className:"btn--menu-item",disabled:this.props.newGameLoading,onClick:function(){return e.onStartNewGame()}},"New Game")))))}}])&&He(t.prototype,n),o&&He(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent),qe={toggleMenu:function(){return clearTimeout(ue),{type:le}},showMenu:function(){return clearTimeout(ue),{type:fe}},collapseMenuWithTimeout:function(e){return function(t){return e=setTimeout((function(){return t(de())}),e)}},startNewGame:J};const Je=(0,i.$j)((function(e){return{menuCollapsed:e.header.get("menuCollapsed"),newGameLoading:e.game.get("status")!=X&&!e.initialLoading}}),qe)(Qe);function Ve(e){return Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ve(e)}function et(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,(o=r.key,i=void 0,i=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==Ve(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(o,"string"),"symbol"===Ve(i)?i:String(i)),r)}var o,i}function tt(e,t){return tt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},tt(e,t)}function nt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=rt(e);if(t){var o=rt(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ve(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(this,n)}}function rt(e){return rt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},rt(e)}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&tt(e,t)}(a,e);var t,n,o,i=nt(a);function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),i.apply(this,arguments)}return t=a,(n=[{key:"componentDidMount",value:function(){this.props.authenticateUser()}},{key:"componentDidUpdate",value:function(){this.props.userStatus===h&&this.props.gameStatus===$&&this.props.initializeGame()}},{key:"render",value:function(){return r.createElement(r.Fragment,null,!this.props.initialLoading&&r.createElement(r.Fragment,null,r.createElement(Je,null),this.props.gameStatus==X?r.createElement(Be,null):r.createElement(ze,{className:"loading-screen--content"})),r.createElement(ze,{loading:this.props.initialLoading}))}}])&&et(t.prototype,n),o&&et(t,o),Object.defineProperty(t,"prototype",{writable:!1}),a}(r.PureComponent),it={authenticateUser:function(){return function(e){e({type:m}),f.auth().signInAnonymously().then((function(t){return e({type:h})})).catch((function(t){return e(function(e){return console.assert(e instanceof Error),{type:y,error:e}}(t))}))}},initializeGame:function(){return function(e,t){e(Y()),function(e){return console.assert(e instanceof f.User),new Promise((function(t,n){var r=b.collection("games");r.where("owner","==",e.uid).orderBy("created_at","desc").limit(1).get().then((function(t){return t.empty?V(e):r.doc(t.docs[0].id)})).then((function(e){return t(e)})).catch((function(e){return n(e)}))}))}(f.auth().currentUser).then((function(e){return O=e,e.get()})).then((function(t){return e(K(t.data().cells))})).catch((function(t){return e(q(t))}))}}};const at=(0,i.$j)((function(e){return{userStatus:e.user.get("status"),gameStatus:e.game.get("status"),initialLoading:e.initialLoading}}),it)(ot);c().load({google:{families:["Share Tech Mono"]}});var ct=function(){return r.createElement("main",{className:"conu"},r.createElement(at,null))};o.render(r.createElement(i.zt,{store:ye},r.createElement(ct,null)),document.getElementById("react-root"))}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var i=n[e]={exports:{}};return t[e].call(i.exports,i,i.exports,r),i.exports}r.m=t,e=[],r.O=(t,n,o,i)=>{if(!n){var a=1/0;for(l=0;l<e.length;l++){for(var[n,o,i]=e[l],c=!0,u=0;u<n.length;u++)(!1&i||a>=i)&&Object.keys(r.O).every((e=>r.O[e](n[u])))?n.splice(u--,1):(c=!1,i<a&&(a=i));if(c){e.splice(l--,1);var s=o();void 0!==s&&(t=s)}}return t}i=i||0;for(var l=e.length;l>0&&e[l-1][2]>i;l--)e[l]=e[l-1];e[l]=[n,o,i]},r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/conu/",(()=>{var e={143:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,i,[a,c,u]=n,s=0;if(a.some((t=>0!==e[t]))){for(o in c)r.o(c,o)&&(r.m[o]=c[o]);if(u)var l=u(r)}for(t&&t(n);s<a.length;s++)i=a[s],r.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return r.O(l)},n=self.webpackChunkCoNu=self.webpackChunkCoNu||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[927],(()=>r(1349)));o=r.O(o)})();